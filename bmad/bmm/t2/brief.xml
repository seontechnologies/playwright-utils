<template id="bmad/bmm/templates/brief.md" name="Project Brief" filename="{project-root}{output-directory}/brief.md">

  <title>Project Brief: {{project_name}}</title>

  <!-- IDE-INJECT-POINT: brief-subagent-instructions -->

  <sections>
    <!-- Introduction -->
    <section id="introduction" title="Introduction" status="required">
      <instruction>
        This template guides creation of a comprehensive Project Brief that serves as the foundational input for product development.

        Start by asking the user which mode they prefer:
        1. **Interactive Mode** - Work through each section collaboratively
        2. **YOLO Mode** - Generate complete draft for review and refinement

        Before beginning, understand what inputs are available (brainstorming results, market research, competitive analysis, initial ideas) and gather project context.

        <llm><i>This is a meta-section for setup only - do not include in final document</i></llm>
      </instruction>
    </section>

    <!-- Executive Summary -->
    <section id="executive-summary" title="Executive Summary" status="required">
      <instruction>
        Create a concise overview that captures the essence of the project. Include:
        - Product concept in 1-2 sentences
        - Primary problem being solved
        - Target market identification
        - Key value proposition

        <llm><i>Write this last but present it first. Should be compelling and clear.</i></llm>
      </instruction>
    </section>

    <!-- Problem Statement -->
    <section id="problem-statement" title="Problem Statement" status="required">
      <instruction>
        Articulate the problem with clarity and evidence. Address:
        - Current state and pain points
        - Impact of the problem (quantify if possible)
        - Why existing solutions fall short
        - Urgency and importance of solving this now

        <llm><i>Push for specificity and evidence. Challenge vague statements.</i></llm>
        <!-- IDE-INJECT-POINT: brief-problem-validation -->
      </instruction>
    </section>

    <!-- Proposed Solution -->
    <section id="proposed-solution" title="Proposed Solution" status="required">
      <instruction>
        Describe the solution approach at a high level. Include:
        - Core concept and approach
        - Key differentiators from existing solutions
        - Why this solution will succeed where others haven't
        - High-level vision for the product

        <llm><i>Focus on the "what" and "why", not the "how" - that's for later documents</i></llm>
      </instruction>
    </section>

    <!-- Target Users -->
    <section id="target-users" title="Target Users" status="required">
      <instruction>
        Define and characterize the intended users with specificity.
      </instruction>

      <sections>
        <section id="primary-segment" title="Primary User Segment" status="required">
          <instruction>
            For the primary user segment include:
            - Demographic/firmographic profile
            - Current behaviors and workflows
            - Specific needs and pain points
            - Goals they're trying to achieve

            <llm><i>Be specific - avoid generic personas like "busy professionals"</i></llm>
            <!-- IDE-INJECT-POINT: brief-user-analysis -->
          </instruction>
        </section>

        <section id="secondary-segment" title="Secondary User Segment" status="optional">
          <instruction>
            If there's a secondary user segment, describe them with the same detail as primary.
          </instruction>
        </section>
      </sections>
    </section>

    <!-- Goals & Success Metrics -->
    <section id="goals-metrics" title="Goals &amp; Success Metrics" status="required">
      <instruction>
        Establish clear objectives and how to measure success.
        Make goals SMART (Specific, Measurable, Achievable, Relevant, Time-bound).
      </instruction>

      <sections>
        <section id="business-objectives" title="Business Objectives" status="required">
          <instruction>
            List business objectives with measurable outcomes.
            Format: "- Objective: metric/target"
          </instruction>
        </section>

        <section id="user-success-metrics" title="User Success Metrics" status="required">
          <instruction>
            Define how user success will be measured.
            Focus on user behaviors and outcomes, not features.
          </instruction>
        </section>

        <section id="kpis" title="Key Performance Indicators (KPIs)" status="required">
          <instruction>
            List 3-5 KPIs with definitions and targets.
            Format: "- KPI Name: Definition and target value"
            <!-- IDE-INJECT-POINT: brief-success-metrics -->
          </instruction>
        </section>
      </sections>
    </section>

    <!-- MVP Scope -->
    <section id="mvp-scope" title="MVP Scope" status="required">
      <instruction>
        Define the minimum viable product clearly.
        Be specific about what's in and what's out.
        Help user distinguish must-haves from nice-to-haves.

        <llm><i>Challenge scope creep. Push for true minimum viability.</i></llm>
      </instruction>

      <sections>
        <section id="core-features" title="Core Features (Must Have)" status="required">
          <instruction>
            List core MVP features with brief descriptions and rationale.
            Format: "- **Feature:** Description and why it's essential"
          </instruction>
        </section>

        <section id="out-of-scope" title="Out of Scope for MVP" status="required">
          <instruction>
            Explicitly list what's NOT in MVP to manage expectations.
            Include tempting features that were considered but deferred.
          </instruction>
        </section>

        <section id="mvp-success-criteria" title="MVP Success Criteria" status="required">
          <instruction>
            Define what constitutes a successful MVP launch.
            Be specific about metrics, user feedback, or milestones.
          </instruction>
        </section>
      </sections>
    </section>

    <!-- Post-MVP Vision -->
    <section id="post-mvp-vision" title="Post-MVP Vision" status="optional">
      <instruction>
        Outline the longer-term product direction without overcommitting to specifics.
      </instruction>

      <sections>
        <section id="phase-2-features" title="Phase 2 Features" status="optional">
          <instruction>
            List next priority features after MVP success.
            Keep high-level - details will come later.
          </instruction>
        </section>

        <section id="long-term-vision" title="Long-term Vision" status="optional">
          <instruction>
            Describe the 1-2 year vision for the product.
            Focus on impact and scale, not specific features.
          </instruction>
        </section>

        <section id="expansion-opportunities" title="Expansion Opportunities" status="optional">
          <instruction>
            Identify potential expansion areas:
            - New user segments
            - Adjacent problems to solve
            - Platform extensions
          </instruction>
        </section>
      </sections>
    </section>

    <!-- Technical Considerations -->
    <section id="technical-considerations" title="Technical Considerations" status="required">
      <instruction>
        Document known technical constraints and preferences.
        Note these are initial thoughts, not final decisions.

        <llm><i>Check for technical-preferences.yaml file and incorporate if available - ask the user if they have a document or want to share any also</i></llm>
      </instruction>

      <sections>
        <section id="platform-requirements" title="Platform Requirements" status="required">
          <instruction>
            Specify target platforms and requirements:
            - Target Platforms (web, mobile, desktop)
            - Browser/OS Support requirements
            - Performance requirements
            - Accessibility requirements
          </instruction>
        </section>

        <section id="technology-preferences" title="Technology Preferences" status="optional">
          <instruction>
            Document any technology preferences or constraints:
            - Frontend preferences
            - Backend preferences
            - Database preferences
            - Hosting/Infrastructure preferences

            <llm><i>Note these are preferences, not decisions - let the user know also that PM and Architect will finalize</i></llm>
            <!-- IDE-INJECT-POINT: brief-technical-feasibility -->
          </instruction>
        </section>

        <section id="architecture-considerations" title="Architecture Considerations" status="optional">
          <instruction>
            High-level architecture thoughts:
            - Repository structure (monorepo vs polyrepo)
            - Service architecture (monolith vs microservices)
            - Integration requirements with existing systems
            - Security/compliance requirements
          </instruction>
        </section>
      </sections>
    </section>

    <!-- Constraints & Assumptions -->
    <section id="constraints-assumptions" title="Constraints &amp; Assumptions" status="required">
      <instruction>
        Clearly state limitations and assumptions to set realistic expectations.
      </instruction>

      <sections>
        <section id="constraints" title="Constraints" status="required">
          <instruction>
            Document project constraints:
            - **Budget:** Available resources or budget limits
            - **Timeline:** Target dates or deadlines
            - **Resources:** Team size and expertise available
            - **Technical:** Technical limitations or requirements
            <!-- IDE-INJECT-POINT: brief-requirements -->
          </instruction>
        </section>

        <section id="key-assumptions" title="Key Assumptions" status="required">
          <instruction>
            List assumptions the project is based on.
            These should be validated during development.
          </instruction>
        </section>
      </sections>
    </section>

    <!-- Risks & Open Questions -->
    <section id="risks-questions" title="Risks &amp; Open Questions" status="optional">
      <instruction>
        Identify unknowns and potential challenges proactively.

        <llm><i>Push for honest risk assessment - better to know early</i></llm>
      </instruction>

      <sections>
        <section id="key-risks" title="Key Risks" status="required">
          <instruction>
            List key risks with descriptions and potential impact.
            Format: "- **Risk:** Description and potential impact"
          </instruction>
        </section>

        <section id="open-questions" title="Open Questions" status="optional">
          <instruction>
            List questions that need answers before or during development.
          </instruction>
        </section>

        <section id="research-areas" title="Areas Needing Further Research" status="optional">
          <instruction>
            Identify topics requiring additional investigation.
          </instruction>
        </section>
      </sections>
    </section>

    <!-- Appendices -->
    <section id="appendices" title="Appendices" status="optional">
      <instruction>
        Include supporting materials and references.
        <!-- IDE-INJECT-POINT: brief-final-review -->
      </instruction>

      <sections>
        <section id="research-summary" title="A. Research Summary" status="optional">
          <instruction>
            If applicable, summarize key findings from:
            - Market research
            - Competitive analysis
            - User interviews
            - Technical feasibility studies
          </instruction>
        </section>

        <section id="stakeholder-input" title="B. Stakeholder Input" status="optional">
          <instruction>
            Document feedback from stakeholders if available.
          </instruction>
        </section>

        <section id="references" title="C. References" status="optional">
          <instruction>
            List relevant links, documents, and resources.
          </instruction>
        </section>
      </sections>
    </section>

    <!-- Next Steps -->
    <section id="next-steps" title="Next Steps" status="required">
      <instruction>
        Define immediate actions and handoff to PM.
      </instruction>

      <sections>
        <section id="immediate-actions" title="Immediate Actions" status="required">
          <instruction>
            List 3-5 immediate next steps as numbered list.
          </instruction>
        </section>

        <section id="pm-handoff" title="PM Handoff" status="required">
          <instruction>
            Add this note:

            This Project Brief provides the full context for {{project_name}}.
            The Product Manager should review this brief thoroughly and use it as the foundation
            for creating the Product Requirements Document (PRD).

            Next: Generate PRD using prd with this brief as input.
          </instruction>
        </section>
      </sections>
    </section>
  </sections>

  <variables>
    <variable name="project_name" required="true" />
    <variable name="date" default="{{current_date}}" />
    <variable name="author" default="Analyst" />
  </variables>
</template>